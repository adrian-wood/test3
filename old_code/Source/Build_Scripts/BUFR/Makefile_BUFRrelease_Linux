#-----------------------------------------------------------------------
# Makefile_BUFRrelease_Linux
# MetDB Team
#
# $Revision: 1$
# $Date: 06/07/2006 16:39:23$
# $Source: /home/us0400/mdb/op/lib/source/RCS/Makefile_BUFRrelease_Linux,v $
#
# $Log:
#  1    Met_DB_Project 1.0         06/07/2006 16:39:23    Alison Weir     
# $
#
#-----------------------------------------------------------------------
# (C) CROWN COPYRIGHT 2006 - MET OFFICE. All Rights Reserved.
#
# Met Office, United Kingdom
#
# The use, duplication and disclosure of this code is strictly
# prohibited without the permission of The Meteorological Database 
# Team at the above address.
#-----------------------------------------------------------------------

# turn off default suffix rules:
# Tell the compiler that .o's are dependent on .f's, .F's and on .c's

.SUFFIXES:
.SUFFIXES: .f .o
.SUFFIXES: .F .o
.SUFFIXES: .c .o

FF          = ifc
CC          = gcc

FFLAGS      = -DBPATH
CFLAGS	    = -DUNDERSCORE

TARGET      = libbufr

MAKEFILE    = Makefile_BUFRrelease_Linux

SRCS	      = bufd203.f \
              bufd206.f \
              bufdass.f \
              bufdata.F \
              bufdchr.F \
              bufdelt.f \
              bufdmap.f \
              bufdrip.f \
              bufdrpl.f \
              bufdspl.f \
              bufr207.f \
              bufrpath.f \
              bufrqel.f \
              bufrqop.f \
              bufrread.f \
              bufrseq.f \
              bufv2.f \
              code.F \
              debufr.f \
              desfxy.f \
              enbufr.f \
              enbufv2.F \
              encode.F \
              ides.f \
              locald.F \
              readcf.f \
              tableb.F \
              tabled.F \
              valout.F \
              value.f

OBJS	      = bufd203.o \
              bufd206.o \
              bufdass.o \
              bufdata.o \
              bufdchr.o \
              bufdelt.o \
              bufdmap.o \
              bufdrip.o \
              bufdrpl.o \
              bufdspl.o \
              bufr207.o \
              bufrpath.o \
              bufrqel.o \
              bufrqop.o \
              bufrread.o \
              bufrseq.o \
              bufv2.o \
              code.o \
              debufr.o \
              desfxy.o \
              enbufv2.o \
              enbufr.o \
              encode.o \
              ides.o \
              locald.o \
              readcf.o \
              tableb.o \
              tabled.o \
              valout.o \
              value.o \
              MetDB_c_utils.o

C_SRCS	    = MetDB_c_utils.c

C_OBJS	    = MetDB_c_utils.o

TARGET_LIB	= ./$(TARGET).a

$(TARGET_LIB):	${OBJS}
		rm -f $@
		ar rv $@ ${OBJS}

.f.o:		
	$(FF) $(FFLAGS) -c $<

.F.o:		
	$(FF) $(FFLAGS) -c $<

.c.o:
	$(CC) $(CFLAGS) -c $<

$(OBJS):        $(MAKEFILE)

clean:;		@rm -f $(OBJS) core .Static.salf Static.sadb $(PTREPOSITORY)/*.o BLINK/* *_bld.stamp
