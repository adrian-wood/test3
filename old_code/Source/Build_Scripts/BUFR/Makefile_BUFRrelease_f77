#-----------------------------------------------------------------------
# Makefile_BUFRrelease
# Simon Cox - MetDB Team
#
# $Revision: 1$
# $Date: 27/10/2006 09:57:42$
# $Source: /home/us0400/mdb/op/lib/source/RCS/Makefile_BUFRrelease,v $
#
# $Log:
#  1    Met_DB_Project 1.0         27/10/2006 09:57:42    Kudsia Gwangwaa 
# $
# Revision 2.12  2004/03/17 14:44:48  usmdb
# Stan Kellett. 17th March 2004.
# changes to bring BUFR release up to date.
#
# Revision 2.11  2003/06/06 11:34:49  usmdb
# Removed sortn - S.Cox
#
# Revision 2.10  2003/04/09 15:17:27  usmdb
# Change cc to CC - S.Cox
#
# Revision 2.9  2003/04/09 13:43:11  usmdb
# Removed elment and localb - S.Cox
#
# Revision 2.8  2003/03/07 15:47:19  usmdb
# Various source added/removed - S.Cox
#
# Revision 2.7  2002/10/09 10:40:56  usmdb
# Fortran source is now a mixture of .F and .f - S.Cox
#
# Revision 2.6  2002/03/26 16:06:48  usmdb
# Removed nxzero - S.Cox
#
# Revision 2.5  2002/03/21 14:08:41  usmdb
# Removed asc2eb, eb2asc, decodi, encodi - S.Cox
#
# Revision 2.3  2002/03/07 16:42:52  usmdb
# Added bufr207 - S.Cox
#
# Revision 2.2  2001/09/05 08:36:41  usmdb
# Added bufrqop - S.Cox
#
# Revision 2.1  2001/07/02 10:10:43  usmdb
# Removed -g compile option - S.Cox
#
# Revision 2.0  2001/03/07 10:42:19  usmdb
# Added bufrread, elment, flagon. Removed modelb - S.Cox
#
#-----------------------------------------------------------------------
# (C) CROWN COPYRIGHT 2004 - MET OFFICE. All Rights Reserved.
#
# Met Office, United Kingdom
#
# The use, duplication and disclosure of this code is strictly
# prohibited without the permission of The Meteorological Database 
# Team at the above address.
#-----------------------------------------------------------------------

# turn off default suffix rules:
# Tell the compiler that .o's are dependent on .f's, .F's and on .c's

.SUFFIXES:
.SUFFIXES: .f .o
.SUFFIXES: .F .o
.SUFFIXES: .c .o

FF          = f77
CC          = cc

FFLAGS      = -DBPATH
CFLAGS	    = -I'./.' -O

TARGET      = libbufr

MAKEFILE    = Makefile_BUFRrelease_f77

SRCS	      = bufd203.f \
              bufd206.f \
              bufdass.f \
              bufdata.F \
              bufdchr.F \
              bufdelt.f \
              bufdmap.f \
              bufdrip.f \
              bufdrpl.f \
              bufdspl.f \
              bufr207.f \
              bufrpath.f \
              bufrqel.f \
              bufrqop.f \
              bufrread.f \
              bufrseq.f \
              bufv2.f \
              code.F \
              debufr.f \
              desfxy.f \
              enbufr.f \
              enbufv2.F \
              encode.F \
              ides.f \
              locald.F \
              readcf.f \
              tableb.F \
              tabled.F \
              valout.F \
              value.f

OBJS	      = bufd203.o \
              bufd206.o \
              bufdass.o \
              bufdata.o \
              bufdchr.o \
              bufdelt.o \
              bufdmap.o \
              bufdrip.o \
              bufdrpl.o \
              bufdspl.o \
              bufr207.o \
              bufrpath.o \
              bufrqel.o \
              bufrqop.o \
              bufrread.o \
              bufrseq.o \
              bufv2.o \
              code.o \
              debufr.o \
              desfxy.o \
              enbufv2.o \
              enbufr.o \
              encode.o \
              ides.o \
              locald.o \
              readcf.o \
              tableb.o \
              tabled.o \
              valout.o \
              value.o \
              MetDB_c_utils.o

C_SRCS	    = MetDB_c_utils.c

C_OBJS	    = MetDB_c_utils.o

TARGET_LIB	= ./$(TARGET).a

$(TARGET_LIB):	${OBJS}
		rm -f $@
		ar rv $@ ${OBJS}

.f.o:		
	$(FF) $(FFLAGS) -c $<

.F.o:		
	$(FF) $(FFLAGS) -c $<

.c.o:
	$(CC) $(CFLAGS) -c $<

$(OBJS):        $(MAKEFILE)

clean:;		@rm -f $(OBJS) core .Static.salf Static.sadb $(PTREPOSITORY)/*.o BLINK/* *_bld.stamp
