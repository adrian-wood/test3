//T12DBRT1 JOB (OP1,DB,WDS0BF),MDB.TEAM.X6951,MSGCLASS=Q,CLASS=I
//*---------------------------------------------------------------------
//*           JOB TO RETRIEVE DATA FROM THE TEST MET.D.B.
//*           ===========================================
//*
//*  BEFORE SUBMITTING:
//*
//*   1. FILL IN LOAD LIBRARY FOR "MDB" (USES "MCC3.DBLOAD.D######").
//*   2. CHECK THE RETRIEVAL TABLE ("TDB.RETRIEVL.TABLE") ON UNIT 80.
//*   3. REPEAT 1 TO 3 FOR THE SECOND AND THIRD JOBS.
//*---------------------------------------------------------------------
//RETRIEVE EXEC PGM=MDBRTVL,REGION=10M,TIME=8
//*
//STEPLIB  DD DSN=MCC3.DB.LOAD,DISP=SHR
//*        DD DSN=MCC3.DBLOAD.D######,DISP=SHR
//FT06F001 DD DSN=TDB.RETRIEVL.TEST1,
//            STORCLAS=SCDATPRK,MGMTCLAS=MCSNC1,
//            DCB=(RECFM=FBA,LRECL=133,BLKSIZE=1330),
//            SPACE=(TRK,(10,2),RLSE),DISP=(NEW,CATLG)
/*
//FT80F001 DD DSN=TDB.RETRIEVL.TABLE,DISP=SHR
//*
//FT05F001 DD *
 &INPUT NPRINT=18, MAXOBS=80000, LAYOUT=1, NCOLS=6 &END

AIREPS    10
START TIME TODAY-1/1100Z END TIME TODAY-1/1129Z
 HOUR MINT CALL_SIGN LTTD LNGD COLTN_CNTR ALTD LEVL_WIND_DRCTN
 LEVL_WIND_SPED LEVL_AIR_TMPR

AIRQAL    10
START TIME TODAY-2/0000Z END TIME TODAY-2/2359Z
 HOUR MINT GEMS_AQTY_OBSG_STTN_CD LTTD LNGD SNSR_HGHT CSNT_TYP
 CAS_RGSY_NMBR DCML_SCL_MASS_DNSTY MASS_DNSTY

AMDARS     9
START TIME TODAY-1/1100Z END TIME TODAY-1/1129Z
 HOUR MINT CALL_SIGN LTTD LNGD ALTD LEVL_WIND_DRCTN LEVL_WIND_SPED
 LEVL_AIR_TMPR

ARGO      12
START TIME TODAY-1/0600Z END TIME TODAY-1/1159Z
 HOUR MINT WMO_MRN_PLTM_IDNY LTTD LNGD LEVL_RPLTN_CONT
 (SUB_SRFC_TMPR SUB_SRFC_PESR SALNY)*2

ATDNET    13
START TIME TODAY-1/0600Z END TIME TODAY-1/0759Z
 HOUR MINT LTTD LNGD ERRR_ELPS_X ERRR_ELPS_Y NMBR_SNSRS
 (SNSR_LTTD SNSR_LNGD STTN_HGHT)*2

BATHY      7
START TIME TODAY-1/0500Z END TIME TODAY-1/1359Z
 HOUR MINT LTTD LNGD SRFC_WIND_DRCTN SRFC_AIR_TMPR CRNT_DRCTN

BUOY      12
START TIME TODAY-1/0500Z END TIME TODAY-1/0559Z
 HOUR MINT BUOY_IDNY LTTD LNGD SRFC_WIND_DRCTN SRFC_WIND_SPED
 SRFC_AIR_TMPR STTN_PESR Q3HOUR_PESR_TNDY SEA_SRFC_TMPR WIND_WAVE_HGHT1

ESAWS     12
START TIME TODAY-1/1000Z END TIME TODAY-1/1059Z
 HOUR MINT WMO_BLCK_NMBR WMO_STTN_NMBR LTTD LNGD STTN_HGHT
 Q10CM_SOIL_TMPR Q1HOUR_MEAN_WIND_DRCTN Q1HOUR_MEAN_WIND_SPED
 MXMM_SRFC_GUST_WIND_DRCTN MXMM_SRFC_GUST

GPSIWV    10
START TIME TODAY-1/0700Z END TIME TODAY-1/0759Z
 HOUR MINT LTTD LNGD STTN_PESR SRFC_AIR_TMPR PLTM_IDNY STLT_ELVN
 TOTL_ZNTH_DELY ZNTH_WET_DELY

LNDSYN    14
START TIME TODAY-1/1000Z END TIME TODAY-1/1029Z
 HOUR MINT WMO_BLCK_NMBR WMO_STTN_NMBR LTTD LNGD STTN_HGHT
 SRFC_WIND_DRCTN SRFC_WIND_SPED SRFC_AIR_TMPR SRFC_DEW_PONT_TMPR
 TOTL_CLOD_AMNT STTN_PESR LWST_CLOD_BASE_HGHT

METARS    10
START TIME TODAY-1/0200Z END TIME TODAY-1/0229Z
 HR MNT ICAO_ID LAT LON WND_DIR WND_SPD AIR_TEMP DEWPT MIN_VSBY

MOBSYN    10
START TIME TODAY-1/1000Z END TIME TODAY-1/1059Z
 HOUR MINT CALL_SIGN LTTD LNGD STTN_HGHT
 SRFC_WIND_DRCTN SRFC_WIND_SPED SRFC_AIR_TMPR SRFC_DEW_PONT_TMPR

NCM        8
START TIME TODAY-1/0800Z END TIME TODAY-1/0959Z
 HOUR BLTN_IDNY WMO_STTN_INDX_NMBR LTTD LNGD MNMM_GRSS_TMPR
 Q0909Z_MXMM_AIR_TMPR Q0909Z_MNMM_AIR_TMPR

OPENROAD  10
START TIME TODAY-1/0900Z END TIME TODAY-1/0959Z
 ROAD_SITE_IDNY HOUR MINT SRFC_AIR_TMPR ROAD_SRFC_TMPR ROAD_DPTH_TMPR
 SRFC_DEW_PONT_TMPR SRFC_WIND_SPED PRCTN_IDNY TOTL_CLOD_AMNT

PILOT      7
START TIME TODAY-1/1200Z END TIME TODAY-1/1259Z
 HOUR MINT LTTD LNGD WMO_BLCK_NMBR WMO_STTN_NMBR STTN_HGHT

RADRACCM  10
START TIME TODAY-1/1200Z END TIME TODAY-1/1220Z
 WMO_BLCK_NMBR WMO_STTN_NMBR HOUR MINT LTTD LNGD
 PIXL_SIZE PRCTN_AMNT NMBR_DATA DATA_SLCTN

RADRRATE  10
START TIME TODAY-1/1200Z END TIME TODAY-1/1220Z
 WMO_BLCK_NMBR WMO_STTN_NMBR HOUR MINT LTTD LNGD
 RAIN_RATE RNFL_WGHT ARC_VAL DATA_SLCTN

RASS       9
START TIME TODAY-1/1100Z END TIME TODAY-1/1259Z
 HOUR MINT LTTD LNGD WMO_BLCK_NMBR WMO_STTN_NMBR LEVL_HGHT VRTL_TMPR
 WIND_W

SATOB     11
START TIME TODAY-1/1000Z END TIME TODAY-1/1059Z
 HOUR MINT STLT_IDNY LTTD LNGD RLTV_HUMDY LEVL_PESR LEVL_AIR_TMPR
 LEVL_WIND_DRCTN LEVL_WIND_SPED TOTL_CLOD_COVR

SFERICS    7
START TIME TODAY-1/0200Z END TIME TODAY-1/0259Z
 HOUR MINT SLCTR_STTN NET_GAIN LTTD LNGD ATMR_NMBR

SHPSYN    10
START TIME TODAY-1/1000Z END TIME TODAY-1/1059Z
 HOUR MINT CALL_SIGN LTTD LNGD SRFC_WIND_DRCTN SRFC_WIND_SPED
 SRFC_AIR_TMPR SRFC_DEW_PONT_TMPR SEA_SRFC_TMPR

SREW       7
START TIME TODAY-1/1000Z END TIME TODAY-1/1059Z
 HOUR WMO_STTN_INDX_NMBR BLTN_IDNY COLTN_CNTR LTTD LNGD
 Q1HOUR_PRCTN_AMNT

TAFS      10
START TIME TODAY-1/1500Z END TIME TODAY-1/1559Z
 HR MNT ICAO_ID LAT LON FCST_BGN_HR FCST_END_HR WND_DIR WND_SPD
 MAX_GUST

TAMDAR     9
START TIME TODAY-1/1100Z END TIME TODAY-1/1129Z
 HOUR MINT ACFT_IDNY LTTD LNGD ALTD LEVL_WIND_DRCTN LEVL_WIND_SPED
 LEVL_AIR_TMPR

TEMP       8
START TIME TODAY-1/1200Z END TIME TODAY-1/1259Z
 HOUR MINT WMO_BLCK_NMBR WMO_STTN_NMBR COLTN_CNTR LTTD LNGD STTN_HGHT

TESAC      9
START TIME TODAY-1/0100Z END TIME TODAY-1/2259Z
 HOUR MINT CALL_SIGN LTTD LNGD SRFC_WIND_DRCTN
 SRFC_WIND_SPED SRFC_AIR_TMPR BASE_SEA_DPTH

TRACKOB    8
START TIME TODAY-1/0100Z END TIME TODAY-1/2259Z
 HOUR MINT CALL_SIGN LTTD LNGD DPTH_BELW_WATR_SRFC LEVL_SEA_TMPR
 LEVL_SEA_SALNY

TRIAXYS   10
START TIME TODAY-1/0600Z END TIME TODAY-1/0859Z
 HOUR MINT BUOY_IDNY LTTD LNGD MSL_PESR SRFC_AIR_TMPR SRFC_WIND_DRCTN
 SRFC_WIND_SPED FRQY_BAND_CONT

TROPADV    3
START TIME TODAY-1/0100Z END TIME TODAY-1/2259Z
 HOUR MINT AREA_IDNY

WAVENET   10
START TIME TODAY-1/0300Z END TIME TODAY-1/0559Z
 HOUR MINT BUOY_IDNY LTTD LNGD SGNT_WAVE_HGHT PEAK_WAVE_PERD
 MEAN_WAVE_PERD SEA_SRFC_TMPR FRQY_BAND_CONT

WFEON      9
START TIME TODAY-1/0300Z END TIME TODAY-1/0559Z
 SITE_NAME HOUR MINT LTTD LNGD WIND_SPED STTN_PESR AIR_TMPR RLTV_HUMDY

WFSSE      9
START TIME TODAY-1/0300Z END TIME TODAY-1/0559Z
 SITE_NAME HOUR MINT LTTD LNGD WIND_SPED STTN_PESR AIR_TMPR RLTV_HUMDY

WINPRO    11
START TIME TODAY-1/0600Z END TIME TODAY-1/0659Z
 HOUR MINT WMO_BLCK_NMBR WMO_STTN_NMBR LTTD LNGD STTN_HGHT MSL_PESR
 SRFC_AIR_TMPR SRFC_RLTV_HUMDY LEVL_RPLTN_CONT

/*
//KEEP1  EXEC PGM=IEBGENER
//SYSPRINT DD SYSOUT=Q
//SYSUT1   DD DSN=TDB.RETRIEVL.TEST1,DISP=SHR
//SYSUT2   DD SYSOUT=Q
//SYSIN DD DUMMY
//*
//*---------------------------------------------------------------------
//*  COMPARE PRINTED OUTPUTS FROM OPERATIONAL AND TEST RETRIEVAL JOBS
//*---------------------------------------------------------------------
//*
//OPNL1   EXEC PASSCI,DSN=TDB.RETRIEVL.OPNL1
//TEST1   EXEC PASSCI,DSN=TDB.RETRIEVL.TEST1
//*
//SUPERC1 EXEC PGM=ISRSUPC,TIME=3,PARM=(DELTAL,LINECMP,'','')
//NEWDD    DD  DSN=TDB.RETRIEVL.TEST1,DISP=SHR
//OLDDD    DD  DSN=TDB.RETRIEVL.OPNL1,DISP=SHR
//OUTDD    DD  SYSOUT=Q
//
//T12DBRT2 JOB (OP1,DB,WDS0BF),MDB.TEAM.X6951,MSGCLASS=Q,CLASS=I
//*---------------------------------------------------------------------
//*           JOB TO RETRIEVE DATA FROM THE TEST MET.D.B.
//*           ===========================================
//*
//*  BEFORE SUBMITTING:
//*
//*   1. FILL IN LOAD LIBRARY FOR "MDB" (USES "MCC3.DBLOAD.D######").
//*   2. CHECK THE RETRIEVAL TABLE ("TDB.RETRIEVL.TABLE") ON UNIT 80.
//*---------------------------------------------------------------------
//RETRIEVE EXEC PGM=MDBRTVL,REGION=10M,TIME=3
//*
//STEPLIB  DD DSN=MCC3.DB.LOAD,DISP=SHR
//*        DD DSN=MCC3.DBLOAD.D######,DISP=SHR
//FT06F001 DD DSN=TDB.RETRIEVL.TEST2,
//            STORCLAS=SCDATPRK,MGMTCLAS=MCSNC1,
//            DCB=(RECFM=FBA,LRECL=133,BLKSIZE=1330),
//            SPACE=(TRK,(10,2),RLSE),DISP=(NEW,CATLG)
/*
//FT80F001 DD DSN=TDB.RETRIEVL.TABLE,DISP=SHR
//*
//FT05F001 DD *
 &INPUT NPRINT=18, MAXOBS=80000, LAYOUT=1, NCOLS=6 &END

AIRSL     10
START TIME TODAY-1/1200Z END TIME TODAY-1/1459Z
 HOUR MINT STLT_IDNY LTTD LNGD SCAN_LINE_NMBR SOLR_ZNTH_ANGL
 CHNL_RPLTN_CONT BRGTS_TMPR*1 SRFC_HGHT

AIRSWF    10
START TIME TODAY-1/1100Z END TIME TODAY-1/1109Z
 HOUR MINT STLT_IDNY LTTD LNGD SCAN_LINE_NMBR SOLR_ZNTH_ANGL
 CHNL_RPLTN_CONT BRGTS_TMPR*1 SRFC_HGHT

AMSUB     11
START TIME TODAY-1/1100Z END TIME TODAY-1/1109Z
 HOUR MINT STLT_IDNY LTTD LNGD SRFC_TYPE FOV_NMBR SOLR_ZNTH_ANGL
 AMSU_BNWH_CORTN1 AMSU_BNWH_CORTN2 AMSU_BRGTS_TMPR

ASCAT     12
START TIME TODAY-1/1100Z END TIME TODAY-1/1109Z
 HOUR MINT STLT_IDNY LTTD LNGD SRFC_SOIL_MSTR DRY_BACK_SCTR
 WET_BACK_SCTR WIND_SPED WIND_DRCTN MODL_WIND_SPED MODL_WIND_DRCTN

ASCATHR   12
START TIME TODAY-1/1800Z END TIME TODAY-1/1809Z
 HOUR MINT STLT_IDNY LTTD LNGD SRFC_SOIL_MSTR DRY_BACK_SCTR
 WET_BACK_SCTR WIND_SPED WIND_DRCTN MODL_WIND_SPED MODL_WIND_DRCTN

ATMS      13
START TIME TODAY-1/1100Z END TIME TODAY-1/1104Z
 HOUR MINT STLT_IDNY LTTD LNGD SRFC_TYPE FOV_NMBR SOLR_ZNTH_ANGL
 ATMS_BRGTS_TMPR*2 CRIS_RDNC*2 DATA_SLCTN

ATMSHR    13
START TIME TODAY-1/1200Z END TIME TODAY-1/1259Z
 HOUR MINT STLT_IDNY LTTD LNGD SRFC_TYPE FOV_NMBR SOLR_ZNTH_ANGL
 ATMS_BRGTS_TMPR*2 CRIS_RDNC*2 DATA_SLCTN

ATOVSG    12
START TIME TODAY-1/1100Z END TIME TODAY-1/1104Z
 HOUR MINT STLT_IDNY LTTD LNGD SRFC_TYPE FOV_NMBR SOLR_ZNTH_ANGL
 HIRS_BNWH_CORTN1 HIRS_BNWH_CORTN2 HIRS_BRGTS_TMPR HIRS20_BRGTS_TMPR

ATOVSL    12
START TIME TODAY-1/1100Z END TIME TODAY-1/1109Z
 HOUR MINT STLT_IDNY LTTD LNGD SRFC_TYPE FOV_NMBR SOLR_ZNTH_ANGL
 HIRS_BNWH_CORTN1 HIRS_BNWH_CORTN2 HIRS_BRGTS_TMPR HIRS20_BRGTS_TMPR

AVHRRG    11
START TIME TODAY-1/1000Z END TIME TODAY-1/1009Z
 HOUR MINT STLT_IDNY LTTD LNGD SCAN_LINE_NMBR FOV_NMBR SOLR_ZNTH_ANGL
 AVHRR_CLER_PIXL_FRCN AVHRR2_MEAN_ALBD AVHRR4_MEAN_BRGTS_TMPR

CMAWINDS  12
START TIME TODAY-1/0500Z END TIME TODAY-1/0559Z
 HOUR MINT STLT_IDNY CLOD_MOTN_MTHD LTTD LNGD LEVL_PESR LEVL_AIR_TMPR
 LEVL_WIND_DRCTN LEVL_WIND_SPED CMA_PRCT_CNFC1 DATA_SLCTN

CRIMSS    13
START TIME TODAY-1/1100Z END TIME TODAY-1/1104Z
 HOUR MINT STLT_IDNY LTTD LNGD SRFC_TYPE FOV_NMBR SOLR_ZNTH_ANGL
 ATMS_BRGTS_TMPR*2 CRIS_RDNC*2 DATA_SLCTN

CRIMSSHR  13
START TIME TODAY-1/1200Z END TIME TODAY-1/1259Z
 HOUR MINT STLT_IDNY LTTD LNGD SRFC_TYPE FOV_NMBR SOLR_ZNTH_ANGL
 ATMS_BRGTS_TMPR*2 CRIS_RDNC*2 DATA_SLCTN

ESACMW    11
START TIME TODAY-1/0600Z END TIME TODAY-1/0659Z
 HOUR MINT STLT_IDNY CLOD_MOTN_MTHD LTTD LNGD LEVL_PESR LEVL_AIR_TMPR
 LEVL_WIND_DRCTN LEVL_WIND_SPED PRCT_CNFC

ESACSR     9
START TIME TODAY-1/1300Z END TIME TODAY-1/1359Z
 HOUR MINT STLT_IDNY LTTD LNGD PESR_LOWR_LAYR PESR_UPPR_LAYR
 LAYR_RLTV_HUMDY PRCT_CNFC

ESACSWVW  11
START TIME TODAY-1/0600Z END TIME TODAY-1/0659Z
 HOUR MINT STLT_IDNY CLOD_MOTN_MTHD LTTD LNGD LEVL_PESR LEVL_AIR_TMPR
 LEVL_WIND_DRCTN LEVL_WIND_SPED PRCT_CNFC

ESAHRVW   11
START TIME TODAY-1/0600Z END TIME TODAY-1/0659Z
 HOUR MINT STLT_IDNY CLOD_MOTN_MTHD LTTD LNGD LEVL_PESR LEVL_AIR_TMPR
 LEVL_WIND_DRCTN LEVL_WIND_SPED PRCT_CNFC

ESAHRWVW  11
START TIME TODAY-1/0600Z END TIME TODAY-1/0659Z
 HOUR MINT STLT_IDNY CLOD_MOTN_MTHD LTTD LNGD LEVL_PESR LEVL_AIR_TMPR
 LEVL_WIND_DRCTN LEVL_WIND_SPED PRCT_CNFC

GHRSST    11
START TIME TODAY-1/1100Z END TIME TODAY-1/1104Z
 HOUR MINT STLT_IDNY LTTD LNGD SRFC_SKIN_TMPR SEA_ICE_FRCN
 WIND_SPED ARSL_OPTCL_DPTH SOLR_RDTN_FLUX DATA_SLCTN

GOESBUFR  11
START TIME TODAY-1/0700Z END TIME TODAY-1/0729Z
 HOUR MINT STLT_IDNY LTTD LNGD CLOD_MOTN_MTHD LEVL_PESR LEVL_AIR_TMPR
 LEVL_WIND_DRCTN LEVL_WIND_SPED DATA_SLCTN

GOESCSR    9
START TIME TODAY-1/1400Z END TIME TODAY-1/1459Z
 HOUR MINT STLT_IDNY LTTD LNGD PESR_LOWR_LAYR PESR_UPPR_LAYR
 LAYR_RLTV_HUMDY PRCT_CNFC

GPSRO     11
START TIME TODAY-1/0700Z END TIME TODAY-1/0759Z
 HOUR MINT STLT_IDNY LTTD LNGD STEP1B_RPLTN_CONT (BNDG_ANGL
 IMPT_PMTR)*1 STEP1B_PRCT_CNFC STEP2A_RPLTN_CONT STEP2B_RPLTN_CONT

IASIG     11
START TIME TODAY-1/1400Z END TIME TODAY-1/1409Z
 HOUR MINT STLT_IDNY LTTD LNGD AMSU_BRGTS_TMPR*1 CHNL_RPLTN_CONT
 SCLD_RDNC*1 AVHRR_CLER_PIXL_FRCN SCAN_LINE_NMBR SOLR_AZMH

IASIHR    11
START TIME TODAY-1/1000Z END TIME TODAY-1/1059Z
 HOUR MINT STLT_IDNY LTTD LNGD AMSU_BRGTS_TMPR*1 CHNL_RPLTN_CONT
 SCLD_RDNC*1 AVHRR_CLER_PIXL_FRCN SCAN_LINE_NMBR SOLR_AZMH

IASIL     11
START TIME TODAY-1/0900Z END TIME TODAY-1/0959Z
 HOUR MINT STLT_IDNY LTTD LNGD AMSU_BRGTS_TMPR*1 CHNL_RPLTN_CONT
 SCLD_RDNC*1 AVHRR_CLER_PIXL_FRCN SCAN_LINE_NMBR SOLR_AZMH

IMDWINDS  11
START TIME TODAY-1/0500Z END TIME TODAY-1/0559Z
 HOUR MINT STLT_IDNY CLOD_MOTN_MTHD LTTD LNGD LEVL_PESR LEVL_AIR_TMPR
 LEVL_WIND_DRCTN LEVL_WIND_SPED CNTR_FRQY

JASON2    10
START TIME TODAY-1/1300Z END TIME TODAY-1/1359Z
 HOUR MINT STLT_IDNY LTTD LNGD ORBT_NMBR WIND_HGHT ALTR_WIND_SPED
 RDMR_WIND_SPED SEA_SRFC_HGHT

JMACSR    10
START TIME TODAY-1/1400Z END TIME TODAY-1/1459Z
 HOUR MINT STLT_IDNY LTTD LNGD PESR_LOWR_LAYR PESR_UPPR_LAYR
 LAYR_RLTV_HUMDY STND_DVTNS*2

JMAWINDS  11
START TIME TODAY-1/0500Z END TIME TODAY-1/0559Z
 HOUR MINT STLT_IDNY CLOD_MOTN_MTHD LTTD LNGD LEVL_PESR LEVL_AIR_TMPR
 LEVL_WIND_DRCTN LEVL_WIND_SPED CNTR_FRQY

MODIS      9
START TIME TODAY-1/0600Z END TIME TODAY-1/0659Z
 HOUR MINT LTTD LNGD CLOD_MOTN_MTHD LEVL_PESR LEVL_WIND_DRCTN
 LEVL_WIND_SPED HGHT_ASGT_MTHD

MSGAOD     8
START TIME TODAY-1/1150Z END TIME TODAY-1/1154Z
 HOUR MINT STLT_IDNY LTTD LNGD SOLR_ZNTH_ANGL VWNG_ZNTH_ANGL
 ARSL_OPTL_DPTH

MSGCSR     9
START TIME TODAY-1/1300Z END TIME TODAY-1/1359Z
 HOUR MINT STLT_IDNY LTTD LNGD PESR_LOWR_LAYR PESR_UPPR_LAYR
 LAYR_RLTV_HUMDY PRCT_CNFC

MSGRAD     9
START TIME TODAY-1/2110Z END TIME TODAY-1/2114Z
 HOUR MINT STLT_IDNY LTTD LNGD PESR_LOWR_LAYR PESR_UPPR_LAYR
 LAYR_RLTV_HUMDY CLOD_AMNT

MSGRADFD   9
START TIME TODAY-1/2115Z END TIME TODAY-1/2117Z
 HOUR MINT STLT_IDNY LTTD LNGD PESR_LOWR_LAYR PESR_UPPR_LAYR
 LAYR_RLTV_HUMDY CLOD_AMNT

MSGRADUK   9
START TIME TODAY-1/1410Z END TIME TODAY-1/1415Z
 HOUR MINT STLT_IDNY LTTD LNGD PESR_LOWR_LAYR PESR_UPPR_LAYR
 LAYR_RLTV_HUMDY CLOD_AMNT

MSGWINDS  13
START TIME TODAY-1/0600Z END TIME TODAY-1/0659Z
 HOUR MINT STLT_IDNY CLOD_MOTN_MTHD LTTD LNGD LEVL_PESR LEVL_AIR_TMPR
 LEVL_WIND_DRCTN LEVL_WIND_SPED PRCT_CNFC CNTR_FRQY DATA_SLCTN

OZONESAT  12
START TIME TODAY-1/0950Z END TIME TODAY-1/1000Z
 STLT_IDNY HOUR MINT LTTD LNGD FOV_NMBR LAYR_RPLTN_CONT
 LAYR_UPPR_PESR LAYR_LOWR_PESR OZNE_DNSY STND_DVTN_RPLTN_CONT
 STND_DVTN_OZNE_DNSY

SEAWINDS  11
START TIME TODAY-1/0600Z END TIME TODAY-1/0659Z
 HOUR MINT STLT_IDNY LTTD LNGD LONG_TRCK_ROW_NMBR CRSS_TRCK_CELL_NMBR
 WIND_SPED WIND_DRCTN NMBR_OF_VCTR_AMBY BRGTS_TMPR

SSMI       9
START TIME TODAY-1/1000Z END TIME TODAY-1/1009Z
 HOUR MINT STLT_IDNY LTTD LNGD PONT_ON_SCAN_LINE BRGTS_TMPR_F19GHZ_H
 BRGTS_TMPR_F37GHZ_H BRGTS_TMPR_F85GHZ_V

SSMIS     11
START TIME TODAY-1/2000Z END TIME TODAY-1/2004Z
 HOUR MINT STLT_IDNY LTTD LNGD SCAN_LINE_NMBR FOV_NMBR
 BRGTS_TMPR*3 RAIN_FLAG

WINDSAT   10
START TIME TODAY-1/1800Z END TIME TODAY-1/1830Z
 STLT_IDNY HOUR MINT SCND LTTD LNGD SCAN_LINE_NMBR
 NMBR_OF_VCTR_AMBY WIND_SPED WIND_DRCTN

/*
//KEEP2  EXEC PGM=IEBGENER
//SYSPRINT DD SYSOUT=Q
//SYSUT1   DD DSN=TDB.RETRIEVL.TEST2,DISP=SHR
//SYSUT2   DD SYSOUT=Q
//SYSIN DD DUMMY
//*
//*---------------------------------------------------------------------
//*  COMPARE PRINTED OUTPUTS FROM OPERATIONAL AND TEST RETRIEVAL JOBS
//*---------------------------------------------------------------------
//*
//OPNL2   EXEC PASSCI,DSN=TDB.RETRIEVL.OPNL2
//TEST2   EXEC PASSCI,DSN=TDB.RETRIEVL.TEST2
//*
//SUPERC2 EXEC PGM=ISRSUPC,TIME=3,PARM=(DELTAL,LINECMP,'','')
//NEWDD    DD  DSN=TDB.RETRIEVL.TEST2,DISP=SHR
//OLDDD    DD  DSN=TDB.RETRIEVL.OPNL2,DISP=SHR
//OUTDD    DD  SYSOUT=Q
//
//T12DBRT3 JOB (OP1,DB,WDS0BF),MDB.TEAM.X6951,MSGCLASS=Q,CLASS=I
//*---------------------------------------------------------------------
//*           JOB TO RETRIEVE DATA FROM THE TEST MET.D.B.
//*           ===========================================
//*
//*  BEFORE SUBMITTING:
//*
//*   1. FILL IN LOAD LIBRARY FOR "MDB" (USES "MCC3.DBLOAD.D######").
//*   2. CHECK THE RETRIEVAL TABLE ("TDB.RETRIEVL.TABLE") ON UNIT 80.
//*---------------------------------------------------------------------
//RETRIEVE EXEC LEF2CLG,FPARMS='NOFIPS,CHARLEN(32000)',
//         GOREGN=8000K,OUTPUT=Q
//FORT.SYSIN DD *
      PARAMETER (NPRINT=10, MAXOBS=500)
      CHARACTER*32000 CREP
      CHARACTER*1 CSTR
      CHARACTER WANTED*80, DATYPE*8
*
      DATA ITEMS/1/, ISTAT/0/, KOUNTOBS/0/
*                                                     READ DATA DETAILS
    5 READ (5,'(A8/A)',END=99) DATYPE, WANTED
      WRITE (6,'(T2,A)') WANTED(1:70)
      IOBS = 1
*                                     READ MDB DATA & CHECK RETURN CODE
*
    2 CALL MDB (DATYPE, WANTED, X, IOBS, ITEMS, ISTAT, CSTR, CREP)
*
*                                                     CHECK STATUS WORD
      IF (ISTAT.EQ.16) THEN
         WRITE (6,'(/T9,A/)') 'PROGRAM ABENDING DUE TO ABOVE ERROR'
         CALL SYSABN (916)
      ELSE IF (ISTAT.EQ.8) THEN
         WRITE(6,'(/T9,A)') 'NO MDB DATA AVAILABLE FOR REQUESTED DATE'
         GO TO 5
      ELSE
         KOUNTOBS = KOUNTOBS + 1
      END IF
*                                                    PRINT OUT THE DATA
*
      IF (KOUNTOBS.LE.NPRINT .AND. IOBS.EQ.1 .AND. ISTAT.LT.6) THEN
         LEN = NINT(X)
         WRITE (6,'(T2,2A,I4,A,I7,A)')
     &            DATYPE, '  REPORT NO.', KOUNTOBS, ':', LEN, ' BYTES'
         WRITE (6,'(T5,A)') CREP(1:44)
         DO I1=45,LEN,75
            I2 = I1 + 74
            I2 = MIN0(I2,LEN)
            WRITE (6,'(T5,A)') CREP(I1:I2)
         END DO ! I1
      END IF
*                                        ANY MORE OBSERVATIONS WANTED ?
*
      IF (KOUNTOBS.LT.MAXOBS .AND. ISTAT.EQ.4) GO TO 2
*
      WRITE (6,'(/T2,I8,A)') KOUNTOBS, ' OBSERVATIONS RETRIEVED'
      KOUNTOBS = 0 ! RESET
      GO TO 5
   99 STOP
      END
/*
//LKED.MDBLOAD DD DSN=MDB.LOADLIB,DISP=SHR
//LKED.SYSIN DD *
  INCLUDE MDBLOAD(MDBSHEL)
/*
//*GO.STEPLIB  DD DSN=MCC3.DBLOAD.D######,DISP=SHR
//GO.FT80F001 DD DSN=TDB.RETRIEVL.TABLE,DISP=SHR
//*
//GO.SYSIN DD *
PRESTEL
START TIME TODAY-1/0800Z END TIME TODAY-1/1059Z
/*
//GO.NOTUSED DD *
AATSR     10
START TIME TODAY-1/0800Z END TIME TODAY-1/0819Z
 HOUR MINT STLT_IDNY LTTD LNGD PIXL_NMBR AVG_MU11_NADIR AVG_MU3.7_FWD
 MEAN_NADR_SST DUAL_VIEW_SST

ASARWVS   10
START TIME TODAY-1/0800Z END TIME TODAY-1/0859Z
 HOUR MINT STLT_IDNY LTTD LNGD MEAN_FRQY (SPCL_REAL SPCL_IMGN)*2

ATAFS     10
START TIME TODAY-1/0800Z END TIME TODAY-1/0959Z
 HR MNT LAT LON FCST_BGN_HR FCST_END_HR WND_DIR WND_SPD MAX_GUST
 AIR_TEMP

MERIS      9
START TIME TODAY-1/0200Z END TIME TODAY-1/0259Z
 HOUR MINT STLT_IDNY LTTD LNGD CLOD_TOP_PESR MSL_PESR
 CLOD_OPTCL_THKNS TOTL_WATR_VAPR

SAMOSX
START TIME TODAY-1/0800Z END TIME TODAY-1/1059Z

TBUS
START TIME TODAY-1/0800Z END TIME TODAY-1/1059Z

WISDOM     8
START TIME TODAY-1/0600Z END TIME TODAY-1/1159Z
 HOUR MINT CALL_SIGN LTTD LNGD ALTD LEVL_WIND_DRCTN LEVL_WIND_SPED

/*
//
//T12DBRT4 JOB (OP1,DB,WDS0BF),MDB.TEAM.X6951,MSGCLASS=Q,CLASS=I
//*---------------------------------------------------------------------
//*      JOB TO RETRIEVE GRIB DATA FROM THE MET.D.B.
//*      =======================-===================
//*
//*  BEFORE SUBMITTING:
//*
//*   1. FILL IN LOAD LIBRARY FOR "MDB" (USES "MCC3.DBLOAD.D######").
//*   2. CHECK THE RETRIEVAL TABLE ("TDB.RETRIEVL.TABLE") ON UNIT 80.
//*---------------------------------------------------------------------
//*
//NEWRTVL EXEC LEF2CLG,FPARMS='NOFIPS,CHARLEN(27998)',
//        GOREGN=9000K,OUTPUT=Q
//FORT.SYSIN DD *
      PROGRAM GTGRIB                                                    00001001
      PARAMETER (LCSTR=10000,NSIZE=400)                                 00010000
      DIMENSION RARRAY(NSIZE)                                           00020000
      CHARACTER*1 CSTR(NSIZE)                                           00030000
      CHARACTER*(LCSTR) CREP(NSIZE)                                     00040000

      CHARACTER WANTED*80, DATYPE*8                                     00050000
      CHARACTER*4 GRIB,SEVENS                                           00060000
      INTEGER I,IG,I7
*                                                                       00180000
      GRIB   = CHAR(71) // CHAR(82) // CHAR(73) // CHAR(66) ! 'GRIB'    00110000
      SEVENS = CHAR(55) // CHAR(55) // CHAR(55) // CHAR(55) ! '7777'    00120000
*                                                         GET DATA TYPE 00090000
      DO WHILE (.TRUE.)
        READ (5,'(A8/A80)',END=999) DATYPE, WANTED
        WRITE(6,*) DATYPE
        WRITE (6,*) WANTED(1:70)                                        00190000
*                                   READ MDB DATA AND CHECK RETURN CODE 00200000
        ISTAT=0
        ITEMS=1

        DO WHILE (ISTAT .LE. 4)
          NOBS=NSIZE
          CALL MDB (DATYPE, WANTED, RARRAY, NOBS,                       00220000
     &                                       ITEMS, ISTAT, CSTR, CREP)  00220000
*                                                                       00230000
*                                                     CHECK STATUS      00240000
          WRITE(6,*)'BACK FROM METDB, ISTAT=',ISTAT,' NOBS=',NOBS
          IF (ISTAT.EQ.16) THEN                                         00250000
            WRITE (6,*) 'ERROR FROM METDB '                             00260000
            CALL SYSABN (916)                                           00270000
          ELSE IF (ISTAT.EQ.8) THEN                                     00280000
            WRITE(6,*) 'NO MDB DATA AVAILABLE FOR REQUESTED DATE'       00290000
          ELSE                                                          00300000
*                                                    PRINT OUT THE DATA 00310000
            DO J=1,NOBS                                                 00320000
              I = RARRAY(J)                                             00330000
*                                     LOOK FOR GRIB AND 7777
              IF (I .GT. 0) THEN
                IG=INDEX(CREP(J)(1:I),GRIB)
                I7=INDEX(CREP(J)(1:I),SEVENS)
                IF(I7 > 0)THEN
                  PRINT*,'7777 FOUND IN RECORD ',J,' OFFSET ',I7
                  IF (I .LT. LCSTR)PRINT*,'DATA LENGTH ',I
                END IF
                IF(IG > 0)PRINT*,'GRIB FOUND IN RECORD ',J,' OFFSET ',IG
              ELSE
                WRITE(6,*)'NO MORE DATA '
                GO TO 99
              END IF
            END DO
            IF (ISTAT.EQ.0) THEN
              WRITE(6,*)'NO MORE DATA '
              GO TO 99
            END IF
*                                                       ANY MORE DATA ? 00430000
          END IF                                                        00440000
        END DO                                                          00450000
99      CONTINUE  ! ANOTHER DATATYPE?
      END DO
*                                                                       00460000
999   CONTINUE
      STOP                                                              00470000
      END                                                               00480000
//LKED.MDBLOAD DD DSN=MDB.LOADLIB,DISP=SHR
//LKED.SYSIN DD *
  INCLUDE MDBLOAD(MDBSHEL)
/*
//*GO.STEPLIB  DD DSN=MCC3.DBLOAD.D######,DISP=SHR
//GO.FT80F001 DD DSN=TDB.RETRIEVL.TABLE,DISP=SHR
//GO.FT06F001 DD DSN=TDB.RETRIEVL.TEST3,
//            STORCLAS=SCDATPRK,MGMTCLAS=MCSNC1,
//            DCB=(RECFM=FBA,LRECL=133,BLKSIZE=1330),
//            SPACE=(TRK,(10,2),RLSE),DISP=(NEW,CATLG)
//GO.FT05F001 DD *
DRWIND
TEST START TIME TODAY-1/1000Z END TIME TODAY-1/1000Z
OSSEAICE
TEST START TIME TODAY-1/1200Z END TIME TODAY-1/1200Z SELECT 2
/*
//KEEP3  EXEC PGM=IEBGENER
//SYSPRINT DD SYSOUT=Q
//SYSUT1   DD DSN=TDB.RETRIEVL.TEST3,DISP=SHR
//SYSUT2   DD SYSOUT=Q
//SYSIN DD DUMMY
//*
//*---------------------------------------------------------------------
//*  COMPARE PRINTED OUTPUTS FROM OPERATIONAL AND TEST RETRIEVAL JOBS
//*---------------------------------------------------------------------
//*
//OPNL3   EXEC PASSCI,DSN=TDB.RETRIEVL.OPNL3
//TEST3   EXEC PASSCI,DSN=TDB.RETRIEVL.TEST3
//*
//SUPERC2 EXEC PGM=ISRSUPC,TIME=3,PARM=(DELTAL,LINECMP,'','')
//NEWDD    DD  DSN=TDB.RETRIEVL.TEST3,DISP=SHR
//OLDDD    DD  DSN=TDB.RETRIEVL.OPNL3,DISP=SHR
//OUTDD    DD  SYSOUT=Q
//
//
