#-------------------------------------------------------------------------------
# XMETARS elements
#-------------------------------------------------------------------------------

[ICAO_ID]
alternative_name = CALL_SIGN
description = ICAO id
item = <locationIndicatorICAO>
returned_type = S5

[LTTD]
alternative_name = LAT
description = latitude
reported_units = deg
item = <gml:pos>
function_chain = word_at_index(attr({ob}/<om:OM_Observation><om:featureOfInterest><sams:SF_SpatialSamplingFeature><sams:shape><gml:Point>axislabels).index("Lat"))

[LNGD]
alternative_name = LON
description = longitude
reported_units = deg
item = <gml:pos>
function_chain = word_at_index(attr({ob}/<om:OM_Observation><om:featureOfInterest><sams:SF_SpatialSamplingFeature><sams:shape><gml:Point>axislabels).index("Lon"))

[YEAR]
alternative_name = YR
description = year
item = <gml:timePosition>
function_chain = [0:3]
returned_type = I

[MNTH]
alternative_name = MON
description = month
item = <gml:timePosition>
function_chain = [5:6]
returned_type = I

[DAY]
alternative_name = DAY
description = day
item = <gml:timePosition>
function_chain = [8:9]
returned_type = I

[HOUR]
alternative_name = HR
description = hour
item = <gml:timePosition>
function_chain = [11:12]
returned_type = I

[MINT]
alternative_name = MNT
description = minute
item = <gml:timePosition>
function_chain = [14:15]
returned_type = I

#-------------------------------------------------------------------------------
[RECEIPT_TIME]
shortcut = {collection}
item = RCPT_YEAR, RCPT_MNTH, RCPT_DAY, RCPT_HOUR, RCPT_MINT

[RCPT_YEAR]
alternative_name = RCT_YR
description = time of receipt year
shortcut = {indfix}
item = ToR
function_chain = year_from_ISO(centmins_to_ISO())

[RCPT_MNTH]
alternative_name = RCT_MON
description = time of receipt month
shortcut = {indfix}
item = ToR
function_chain = month_from_ISO(centmins_to_ISO())

[RCPT_DAY]
alternative_name = RCT_DAY
description = time of receipt day
shortcut = {indfix}
item = ToR
function_chain = day_from_ISO(centmins_to_ISO())

[RCPT_HOUR]
alternative_name = RCT_HR
description = time of receipt hour
shortcut = {indfix}
item = ToR
function_chain = hour_from_ISO(centmins_to_ISO())

[RCPT_MINT]
alternative_name = RCT_MNT
description = time of receipt minute
shortcut = {indfix}
item = ToR
function_chain = minute_from_ISO(centmins_to_ISO())

#-------------------------------------------------------------------------------
[COLTN_CNTR]
alternative_name = CLTN_CNTR
description = collecting centre
shortcut = {header}
item = ?
returned_type = S4

[BLTN_IDNY]
alternative_name = BLTN_ID
description = bulletin id (last 4 characters)
item = <collect:bulletinIdentifier> - but only appears in collections
function_chain = [-4:]
returned_type = S4

[AMND_NUM]
description = amend number
item = not in xsd, but gmd:amendmentNumber appears in generated xml
returned_type = I

[COR_NUM]
description = cor number
item = 
returned_type = I

[STTN_HGHT]
description = station height
reported_units = 
item = <gml:pos>
function_chain = word_at_index(attr({ob}/<om:OM_Observation><om:featureOfInterest><sams:SF_SpatialSamplingFeature><sams:shape><gml:Point>axislabels).index("Altitude"))

[WND_DIR]
description = wind direction
reported_units = deg (has UOM attribute)
item = <meanWindDirection>

[WND_SPD]
description = wind speed
item = <meanWindSpeed>
reported_units = m/s or [kn_i] (has UOM attribute)

[MAX_GUST]
description = maximum gust
reported_units = m/s or [kn_i] (has UOM attribute)
item = <windGustSpeed>

[VRBL_WND_MAX_DIR]
description = variable wind max direction
reported_units = deg true
item = <extremeClockwiseWindDirection> ?

[VRBL_WND_MIN_DIR]
description = variable wind min direction
reported_units = deg true
reported_units = deg true
item = <extremeCounterClockwiseWindDirection> ?

[MIN_VSBY_DIR]
description = minimum visibility direction
reported_units = deg
item = <minimumVisibilityDirection>

[MIN_VSBY]
description = minimum visibility
reported_units = m
item = <minimumVisibility>
datatype_page_notes = ICAO table change 25th November 2004

[PRVLNG_VSBLY]
alternative_name = HRZL_VSBLY
description = Prevailing visibility
item = <prevailingVisibility>
reported_units = m (has UOM attribute)
datatype_page_notes = ICAO table change 25th November 2004.

[MAX_VSBY_DIR]
description = maximum visibility direction
reported_units = deg true
item = unknown

[MAX_VSBY]
description = maximum visibility
reported_units = m
item = unknown
datatype_page_notes = ICAO table change 25th November 2004

#-------------------------------------------------------------------------------
[GNRL_WX_ID]
description = general weather id
reported_units = table
table_id = 020195
item = <iwxxm:presentWeather>  or CAVOK?

#-------------------------------------------------------------------------------
[RUNWAY_VISIBILITY]
shortcut = {collection}
item = VSBY_RNWY_NUM, VSBY_PLL_RNWY_ID, RNWY_VSBY_TDCY_ID, MIN_RNWY_VSBY_QLFY_ID, MIN_RNWY_VSBY, MAX_RNWY_VSBY_QLFY_ID, MAX_RNWY_VSBY
replicator = 

[VSBY_RNWY_NUM]
description = visibility runway number
item = <AerodromeRunwayVisualRange>?
replicator = 

[VSBY_PLL_RNWY_ID]
description = visibility parallel runway id
reported_units = table
table_id = 001212
item = <AerodromeRunwayVisualRange>?
replicator = 

[RNWY_VSBY_TDCY_ID]
description = runway visibility tendency id
reported_units = table
table_id = 054003
item = <AerodromeRunwayVisualRange>?
replicator = 

[MIN_RNWY_VSBY_QLFY_ID]
description = min rnwy visibility qualifier id
reported_units = table
table_id = 054002
item = <AerodromeRunwayVisualRange>?
replicator = 

[MIN_RNWY_VSBY]
description = min runway visibility
reported_units = m
datatype_page_notes = USA stations may use other units which get converted into metres ie 1 Statute Mile = 1609.344 metres
item = <AerodromeRunwayVisualRange>?
replicator = 

[MAX_RNWY_VSBY_QLFY_ID]
description = max rnwy visibility qualifier id
reported_units = table
table_id = 054002
item = <AerodromeRunwayVisualRange>?
replicator = 

[MAX_RNWY_VSBY]
description = max runway visibility
reported_units = m
datatype_page_notes = USA stations may use other units which get converted into metres ie 1 Statute Mile = 1609.344 metres
item = <AerodromeRunwayVisualRange>?
replicator = 

#-------------------------------------------------------------------------------
[SIGNIFICANT_WEATHER]
shortcut = {collection}
item = SIG_WX_INSY_ID, SIG_WX_DSC_ID, SIG_WX_PHNM_ID

[SIG_WX_INSY_ID]
description = significant weather intensity id
reported_units = table
table_id = 020192
item = <iwxxm:recentWeather> or <iwxxm:presentWeather> ?
replicator = 

[SIG_WX_DSC_ID]
description = significant weather description id
reported_units = table
table_id = 020193
item = <iwxxm:recentWeather> or <iwxxm:presentWeather> ?
replicator = 

[SIG_WX_PHNM_ID]
description = significant weather phenomenon id
reported_units = table
table_id = 020194
item = <iwxxm:recentWeather> or <iwxxm:presentWeather> ?
replicator = 

#-------------------------------------------------------------------------------
[CRNT_WTHR_TYPE]
alternative_name = PRST_WX_ID
description = present weather id
reported_units = table
table_id = 020003
item = <iwxxm:presentWeather> ?

#-------------------------------------------------------------------------------
[SIGNIFICANT_CLOUD]
shortcut = {collection}
item = CLD_AMT_ID, CLD_TYPE_ID, CLD_BASE_HT

[CLD_AMT_ID]
description = cloud amount id
item = </iwxxm:observation></om:OM_Observation></om:result></iwxxm:MeteorologicalAerodromeObservationRecord></iwxxm:cloud></iwxxm:AerodromeObservedClouds></iwxxm:layer></iwxxm:CloudLayer><iwxxm:amount>
reported_units = table
table_id = 020008
replicator = 

[CLD_TYPE_ID]
description = cloud type id
reported_units = table
table_id = 020012
item = </iwxxm:observation></om:OM_Observation></om:result></iwxxm:MeteorologicalAerodromeObservationRecord></iwxxm:cloud></iwxxm:AerodromeObservedClouds></iwxxm:layer></iwxxm:CloudLayer><iwxxm:cloudType>
replicator = 

[CLD_BASE_HT]
description = cloud base height
item = </iwxxm:observation></om:OM_Observation></om:result></iwxxm:MeteorologicalAerodromeObservationRecord></iwxxm:cloud></iwxxm:AerodromeObservedClouds></iwxxm:layer></iwxxm:CloudLayer><iwxxm:amount>
reported_units = [ft_i] (UOM?)
replicator = 

#-------------------------------------------------------------------------------
[CONVECTIVE_CLOUD]
shortcut = {collection}
item = DEEP_CONV_CLD_AMT_ID, DEEP_CONV_CLD_TYPE_ID, DEEP_CONV_CLD_BASE_HT

[DEEP_CONV_CLD_AMT_ID]
description = deep convective cloud amount id
reported_units = table
table_id = 020011
item = 
replicator = 

[DEEP_CONV_CLD_TYPE_ID]
description = deep convective cloud type id
reported_units = table
table_id = 020012
item = 
replicator = 

[DEEP_CONV_CLD_BASE_HT]
description = deep convective cloud base height
reported_units = m
item = 
replicator = 

#-------------------------------------------------------------------------------
[VRTL_VSBLY]
alternative_name = VERT_VSBY
description = vertical visibility
reported_units = m
item = <verticalVisibility> per cloud layer?

[SRFC_AIR_TMPR]
alternative_name = AIR_TEMP
description = air temperature
reported_units = Cel (has UOM attribute)
item = <airTemperature>

[SRFC_DEW_PONT_TMPR]
alternative_name = DEWPT
description = dewpoint
reported_units = Cel (has UOM attribute)
item = <dewpointTemperature>

[ALTM_PRES]
description = altimeter pressure
reported_units = hPa (has UOM attribute)
item = <qnh>

#-------------------------------------------------------------------------------
[WIND_SHEAR]
shortcut = {collection}
item = WND_SHR_RNWY_NUM, WND_SHR_PLL_RNWY_ID, RNWY_USG_ID, RNWY_WND_SHR_ID
replicator = 

[WND_SHR_RNWY_NUM]
description = wind shear runway number
item = 
replicator = 

[WND_SHR_PLL_RNWY_ID]
description = wind shear parallel runway id
reported_units = table
table_id = 001212
item = 
replicator = 

[RNWY_USG_ID]
description = runway useage id
reported_units = table
table_id = 001213
item = 
replicator = 

[RNWY_WND_SHR_ID]
description = runway wind shear id
reported_units = table
table_id = 011296
item = 
replicator = 

#-------------------------------------------------------------------------------
[RNWY_ST_TXT]
description = runway state text
item = 
returned_type = S8

[STTN_RPRT_TYPE]
alternative_name = STN_RPT_TYPE
description = station report type
reported_units = table
table_id = 002001
item = 

#-------------------------------------------------------------------------------
[RECENT_WEATHER]
shortcut = {collection}
item = RCNT_WX_DSC_ID, RCNT_WX_PHNM_ID

[RCNT_WX_DSC_ID]
description = recent weather description id
reported_units = table
table_id = 020193
item = <AerodromeRecentWeather> ?
replicator = 

[RCNT_WX_PHNM_ID]
description = recent weather phenomenon id
reported_units = table
table_id = 020194
item = <AerodromeRecentWeather> ?
replicator = 

#-------------------------------------------------------------------------------
